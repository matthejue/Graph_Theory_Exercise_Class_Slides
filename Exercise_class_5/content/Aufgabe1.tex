%!Tex Root = ../main.tex
% ./Packete.tex
% ./Design.tex
% ./Deklarationen.tex
% ./Vorbereitung.tex
% ./Aufgabe2.tex
% ./Aufgabe3.tex
% ./Aufgabe4.tex
% ./Appendix.tex

\section{Exercise 1}

\setcounter{exercise}{1}

\begin{frame}[allowframebreaks]{Aufgabe \thesection}{Maximum-Flow and Minimum-Cut}
  \begin{exercisenoinc}
    \resizebox{\textwidth}{!}{
      \begin{minipage}[t]{20cm}
        \ctikzfig{schienenetz_4}
      \end{minipage}
    }
  \end{exercisenoinc}
  \begin{requirementsnoinc}
    \begin{columns}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{8cm}
            \begin{itemize}
              \item \alert{flow network} is a \alert{digraph} $N = (V, E, c, f, s, t)$ with \alert{nodes/vertices} $V$, \alert{edges} $E$, \alert{capacity} $c(e)\ge 0$ for every edge $e\in E$, \alert{flow} $f(e)$, \alert{source vertex} $s\in V$ and \alert{sink vertex} $t\in V$
                % network / 
              \item flow is \alert{feasible} if $\forall e\in E:0\leq f(e)\leq c(e)$ and $\forall\nu\in V\setminus\{s,t\}:f^{+}(\nu)=f^{-}(\nu)$
              \item \alert{flow value} $val(f) = f^-(t) - f^+(t) = f^+(s) - f^-(s)$ 
              \item flow \alert{from} the node $v$: $\displaystyle f^+(v) = \sum_{vw\in E} f((v,w))$ 
              \item flow \alert{into} the node $v$: $\displaystyle f^-(v) = \sum_{wv\in E} f((w,v))$
              \item \alert{f-augmenting path} $P$ is a source-to-sink path $P$ in the underlying graph $G$ such that for each $e\in E(P)$: 
                \begin{itemize}
                  % \item  paths are considered in the undirected version of the network $N$
                  \item $P$ follows $e$ forward, then $f(e) < c(e)$
                  \item $P$ follows $e$ backward, then $f(e) > 0$
                \end{itemize}
              \item \alert{tolerance} of $\displaystyle\epsilon(P) = \min_{e\in E(P)} \epsilon(e)$
            \end{itemize}
          \end{minipage}
        }
      \end{column}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{8cm}
            \begin{itemize}
              \item $\epsilon(e) = c(e) - f(e)$ if $e$ is followed \alert{forward}
                \begin{itemize}
                  \item $\epsilon(e) = f(e)$ if $e$ is followed \alert{backward}
                \end{itemize}
              \item \alert{source/sink cut [S, T]} are the \alert{edges} from source set $S$ to sink set $T$
              \item \alert{capacity} of the \alert{cut} $[S, T]$: $\displaystyle cap(S, T) = \sum_{\mathclap{\substack{u\in S, v\in T}}} c((u, v))$, edges from $T$ to $S$ do not affect the capacity of the cut
              \item \alert{weak duality:} if $f$ is a \alert{feasible flow} and $[S,T]$ is a \alert{source/sink cut} then $val(f) = f^+(S) - f^-(S) \le f^+(S) \le cap(S, T)$
                \begin{itemize}
                  \item \alert{total flow on edges leaving $U$:} $\displaystyle f^{+}(U)=\sum_{\mathclap{\substack{u \in U, v \in V \backslash U, u v \in E}}} f(u v)$
                  \item \alert{total flow on edges entering $U$:} $\displaystyle f^{-}(U)=\sum_{\mathclap{\substack{u \in V\backslash U, u \in U , v u \in E}}} f(v u)$
                \end{itemize}
              \item \alert{Max-Flow Min-Cut Theorem:}  $\displaystyle \max_{f} val(f) = \min_{S, T} cap(S, T)$
            \end{itemize}
          \end{minipage}
        }
      \end{column}
    \end{columns}
  \end{requirementsnoinc}
  \framebreak
  \begin{solution}
    \begin{columns}
      \begin{column}{0.4\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{1a}
          \end{minipage}
        }
      \end{column}
      \begin{column}{0.6\textwidth}
        \begin{itemize}
          \tiny
          \item $\begin{aligned}[t]\displaystyle val(f) &= f^-(t) - f^+(t)\\
            &= \sum_{\mathclap{\substack{w T-Stadt\in E}}} f(w T{-}Stadt) - \sum_{\mathclap{\substack{T{-}Stadt w\in E}}} f(vw)\\
            &= (f(N{-}Stadt T{-}Stadt) + f(L{-}Stadt T{-}Stadt) \\
            &\quad + f(M{-}Stadt T{-}Stadt)) - f(T{-}Stadt M{-}Stadt)\\
            &= (0 + 1 + 1 ) - 1 = 2 - 1 = 1\\
          \end{aligned}$
        \end{itemize}
      \end{column}
    \end{columns}
  \end{solution}
  \begin{solution}
    \begin{columns}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{schienenetz_4}
          \end{minipage}
        }
      \end{column}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{1b}
          \end{minipage}
        }
      \end{column}
    \end{columns}
  \end{solution}
  \begin{solution}
    \begin{columns}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{schienenetz_3}
          \end{minipage}
        }
      \end{column}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{1c}
          \end{minipage}
        }
      \end{column}
    \end{columns}
  \end{solution}
  \begin{solutionnoinc}
    \begin{columns}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{schienenetz_4}
          \end{minipage}
        }
        \centering\scriptsize
        flow network
      \end{column}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{1d}
          \end{minipage}
        }
        \centering\scriptsize
        residual network
      \end{column}
    \end{columns}
  \end{solutionnoinc}
  \begin{solutionnoinc}
    \begin{columns}
      \begin{column}{0.5\textwidth}
          \resizebox{\textwidth}{!}{
            \begin{minipage}[t]{14cm}

              \ctikzfig{1d_2}
            \end{minipage}
          }
      \end{column}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{1d_3}
          \end{minipage}
        }
      \end{column}
    \end{columns}
  \end{solutionnoinc}
  \begin{solution}
    \begin{columns}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{1d_4}
          \end{minipage}
        }
      \end{column}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{1d_5}
          \end{minipage}
        }
      \end{column}
    \end{columns}
  \end{solution}
  \begin{solutionnoinc}
    \begin{columns}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{1e}
          \end{minipage}
        }
        \begin{itemize}
          \item $3\times 2 = 6$
        \end{itemize}
      \end{column}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{1e_2}
          \end{minipage}
        }
        \begin{itemize}
          \item $2\times 5 = 10$
        \end{itemize}
      \end{column}
    \end{columns}
  \end{solutionnoinc}
  \begin{solutionnoinc}
    \begin{columns}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{1e_3}
          \end{minipage}
        }
        \begin{itemize}
          \item $3\times 1 = 3$
        \end{itemize}
      \end{column}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{1e_4}
          \end{minipage}
        }
        \begin{itemize}
          \item $1\times 1 = 1$
        \end{itemize}
      \end{column}
    \end{columns}
  \end{solutionnoinc}
  \begin{solutionnoinc}
    \begin{columns}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{1e_5}
          \end{minipage}
        }
        \begin{itemize}
          \item $2\times 1 = 2$
        \end{itemize}
      \end{column}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{1e_6}
          \end{minipage}
        }
        \begin{itemize}
          \item $1\times 1 = 1$
        \end{itemize}
      \end{column}
    \end{columns}
  \end{solutionnoinc}
  \begin{solutionnoinc}
    \begin{columns}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{1e_7}
          \end{minipage}
        }
        \begin{itemize}
          \item $4\times 1 = 4$
        \end{itemize}
      \end{column}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{1e_8}
          \end{minipage}
        }
        \begin{itemize}
          \item $1\times 1 = 1$
        \end{itemize}
      \end{column}
    \end{columns}
  \end{solutionnoinc}
  \begin{solution}
    \begin{columns}
      \begin{column}{0.5\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{14cm}
            \ctikzfig{1e_9}
          \end{minipage}
        }
        \begin{itemize}
          \item $1\times 5 = 5$
        \end{itemize}
      \end{column}
      \begin{column}{0.5\textwidth}
        \begin{itemize}
          \item $\#Min\_Cuts = 6 + 10 + 3 + 1 + 2 + 1 + 4 + 1 + 5 = 33$
        \end{itemize}
      \end{column}
    \end{columns}
  \end{solution}
  \begin{solution}
    \begin{columns}
      \begin{column}{0.4\textwidth}
        \resizebox{\textwidth}{!}{
          \begin{minipage}[t]{6cm}
            \ctikzfig{1g}
          \end{minipage}
        }
      \end{column}
      \begin{column}{0.6\textwidth}
        \begin{itemize}
          \item $f_{max, 1} = \{(s, a)\mapsto 1, (a, c)\mapsto 1, (c, t)\mapsto 1, (s, b)\mapsto 0, (b, c)\mapsto 0\}$, $val(f_{max, 1}) = 1$
          \item $f_{max, 2} = \{(s, b)\mapsto 1, (b, c)\mapsto 1, (c, t)\mapsto 1, (s, a)\mapsto 0, (a, c)\mapsto 0\}$, $val(f_{max, 2}) = 1$
          \item $S = \{s, a, b, c\}$, $T = \{t\}$, $\displaystyle cap(S, T)=\sum_{\mathclap{\substack{u\in S, v\in T}}} c((u, v)) = c((c, t)) = 1$
        \end{itemize}
      \end{column}
    \end{columns}
  \end{solution}
  \begin{solution}
    \begin{columns}
      \begin{column}{0.5\textwidth}
        \ctikzfig{1h}
      \end{column}
      \begin{column}{0.5\textwidth}
        \ctikzfig{1h_2}
      \end{column}
    \end{columns}
  \end{solution}
  \begin{solution}
    \begin{columns}
      \begin{column}{0.5\textwidth}
        \ctikzfig{1h_3}
      \end{column}
      \begin{column}{0.5\textwidth}
        \ctikzfig{1h_4}
      \end{column}
    \end{columns}
  \end{solution}
  \begin{solution}
    \begin{columns}
      \begin{column}{0.5\textwidth}
        \ctikzfig{1h_5}
      \end{column}
      \begin{column}{0.5\textwidth}
        \begin{itemize}
          \item \alert{runs:} $99 + 99 = 198$
          \item \alert{depth first search} that always picks the lexicographically smallest node first among the nodes that get added to the stack when a node gets expanded
        \end{itemize}
      \end{column}
    \end{columns}
  \end{solution}
\end{frame}
